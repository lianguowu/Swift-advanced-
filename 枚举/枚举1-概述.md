# 枚举1-概述

我们在前一章讨论的结构体和类都是记录类型 (record type)。一个记录由零个或多个具有类型的字段 (属性) 组成。
Swift 的枚举属于一个完全不同的类别，有时称它为标签联合或变体类型 (variant type)。


## 概述

一个枚举由零个或多个成员 (case) 组成，每个成员都可以有一个元组样式的关联值 (associated value) 列表。

我们在可选值这一章看到过，Optional 是一个具有 none 和 some 这两个成员的泛型枚举。some 有一个关联值用来表示当前的装箱值 (boxed value)。

Result 类型则用来表示一个操作的成功或失败，它的结构和可选值类似，区别是它增加了一个泛型参数，并把这个参数设置为 failure 的关联值，以便可以获得详细的错误信息。


## 枚举是值类型

就像结构体一样，枚举也是值类型。它的能力几乎和结构体相同：

1. 枚举可以有方法，计算属性和下标操作。
2. 方法可以被声明为可变或不可变。
3. 你可以为枚举实现扩展。
4. 枚举可以实现各种协议。

但是，枚举不能拥有存储属性。一个枚举的状态完全由它的成员和成员的关联值组合起来表示。对于某个特定的成员，可以将关联值视为其存储属性。

枚举和结构体中的可变方法的工作方式是一样的。在结构体和类这一章中我们看到过，在一个可变方法中，因为 self 是 inout 参数，所以它是可变的。由于枚举没有存储属性，并且没有办法直接改变一个成员的关联值，所以修改一个枚举的方式就是直接分配一个新的值给 self。


## 总和类型和乘积类型

通常来说，一个元组 (或者结构体，类) 的居留元数量，等于其成员的居留元数量的乘积。因此，结构体，类和元组也被称为“乘积类型 (Product Types)。

一般而言，一个枚举的居留元数量，等于它所有成员的居留元数量的总和。这也是为什么称枚举为总和类型 (Sum Types) 的原因。

向结构体增加一个字段会增加可能状态的数量，而且这个数量通常会非常大。而往枚举中添加一个成员却只会另外增加一个居留元 (如果这个成员有关联值的话，增加的数量就是关联值的居留元数量)。

